<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Settings</title>
    <link rel="stylesheet" href="../css/settings.css" />
    <link rel="stylesheet" href="../css/header.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />

    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- Header -->
    <header class="header">
      <div class="logo"><img src="../images/logo.png" alt="" /></div>
      <nav class="nav" id="main-nav">
        <div class="user-info-mobile">
          <p id="user-name-display"></p>
          <small id="user-address-display"></small>
        </div>

        <div class="nav-mobile-options">
          <a href="../options-html/my-bookings.html">
            <i class="ri-calendar-check-line"></i> My Bookings
          </a>
          <a href="../options-html/payment-history.html">
            <i class="ri-receipt-line"></i> Payment History
          </a>
          <a href="../options-html/notifications.html">
            <i class="ri-notification-3-line"></i> Notifications
          </a>
          <a href="../html/about.html">
            <i class="ri-information-2-line"></i> About
          </a>
          <a href="../html/contact.html">
            <i class="ri-mail-line"></i> Contact
          </a>
        </div>

        <div class="nav-links">
          <a href="../index.html">Home</a>
          <a href="about.html">About</a>
          <a href="services.html" class="active">Services</a>
          <a href="profile.html">Profile</a>
          <a href="contact.html">Contact</a>
        </div>
        <div class="auth-buttons">
          <a href="html/login.html" class="login-btn">Login</a>
          <a href="html/signup.html" class="signup-btn">Signup</a>
          <a
            href="#"
            id="logout-btn"
            class="logout-btn btn"
            style="display: none"
            >Logout</a
          >
        </div>
      </nav>
      <div class="menu-toggle" id="menu-toggle">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </header>

    <div class="settings-container">
      <h2>Settings</h2>

      <!-- Profile Info -->
      <div class="setting-item">
        <p><strong>Email:</strong> <span id="user-email">Loading...</span></p>
      </div>

      <!-- Notification Toggle -->
      <div class="setting-item">
        <label>
          <span>Notifications</span>
          <input type="checkbox" id="notif-toggle" />
        </label>
      </div>

      <!-- Dark Mode Toggle -->
      <div class="setting-item">
        <label>
          <span>Dark Mode</span>
          <input type="checkbox" id="dark-toggle" />
        </label>
      </div>

      <!-- Logout -->
      <div class="setting-item">
        <button id="logout-btn">Logout</button>
      </div>
    </div>

    <nav class="bottom-nav">
      <a href="../index.html" class="nav-item">
        <i class="ri-home-4-line"></i>
        <span>Home</span>
      </a>
      <a href="../html/services.html" class="nav-item">
        <i class="ri-briefcase-4-line"></i>
        <span>Services</span>
      </a>
      <a href="../html/profile.html" class="nav-item">
        <i class="ri-user-3-line"></i>
        <span>Profile</span>
      </a>
      <a href="../html/settings.html" class="nav-item">
        <i class="ri-settings-4-line"></i>
        <span>Settings</span>
      </a>
    </nav>

    <script>
      import {
        getAuth,
        onAuthStateChanged,
      } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";

      document.addEventListener("DOMContentLoaded", () => {
        const emailSpan = document.getElementById("user-email");
        const notifToggle = document.getElementById("notif-toggle");
        const darkToggle = document.getElementById("dark-toggle");

        // Firebase Auth - show user email
        const auth = getAuth();
        onAuthStateChanged(auth, (user) => {
          if (user) {
            emailSpan.textContent = user.email;
          } else {
            emailSpan.textContent = "No user logged in";
          }
        });

        // Notification Toggle
        notifToggle.addEventListener("change", () => {
          if (notifToggle.checked) {
            alert("Notifications enabled ✅");
          } else {
            alert("Notifications disabled ❌");
          }
        });

        // Dark Mode Toggle
        darkToggle.addEventListener("change", () => {
          if (darkToggle.checked) {
            document.body.style.background = "#222";
            document.body.style.color = "#fff";
          } else {
            document.body.style.background = "#f9f9f9";
            document.body.style.color = "#000";
          }
        });
      });
    </script>

    <!-- Scripts -->
    <script type="module" src="../js/settings.js"></script>
    <script type="module" src="../js/script.js"></script>
    <script type="module" src="../js/logout.js"></script>
  </body>
</html>
